{"ast":null,"code":"import _classCallCheck from \"/home/alessandro/Documenti/projects/react/close2me/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alessandro/Documenti/projects/react/close2me/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alessandro/Documenti/projects/react/close2me/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alessandro/Documenti/projects/react/close2me/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alessandro/Documenti/projects/react/close2me/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alessandro/Documenti/projects/react/close2me/src/components/pensioni.tsx\";\nimport * as React from 'react';\nimport ReactTable from 'react-table';\nimport axios from 'axios';\nimport '../index.css';\nimport 'react-table/react-table.css';\nvar ONE_HOUR = 3600000;\nvar tableStyle = {\n  width: \"100%\"\n};\n\nvar Pensioni =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Pensioni, _React$Component);\n\n  function Pensioni(props) {\n    var _this;\n\n    _classCallCheck(this, Pensioni);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pensioni).call(this, props));\n    _this.state = {\n      pensioni: [],\n      message: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Pensioni, [{\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      axios.get('http://localhost:8090/pensioni/all').then(function (res) {\n        _this2.setState({\n          pensioni: res.data,\n          message: \"\"\n        });\n      }).catch(function (error) {\n        _this2.setState({\n          pensioni: [],\n          message: error.message\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n      setInterval(this.getData, ONE_HOUR);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var columns = [{\n        Header: 'Data',\n        accessor: 'data',\n        show: false\n      }, {\n        Header: 'Data',\n        accessor: 'stringData'\n      }, {\n        Header: 'OK',\n        accessor: 'ok'\n      }, {\n        Header: 'Error',\n        accessor: 'errori'\n      }, {\n        Header: 'Total',\n        accessor: 'totale'\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Pensioni\"), React.createElement(ReactTable, {\n        data: this.state.pensioni,\n        columns: columns,\n        defaultPageSize: 5,\n        showPagination: false,\n        defaultSorted: [{\n          id: \"data\",\n          desc: true\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Pensioni;\n}(React.Component);\n\nexport { Pensioni as default };","map":{"version":3,"sources":["/home/alessandro/Documenti/projects/react/close2me/src/components/pensioni.tsx"],"names":["React","ReactTable","axios","ONE_HOUR","tableStyle","width","Pensioni","props","state","pensioni","message","get","then","res","setState","data","catch","error","getData","setInterval","columns","Header","accessor","show","id","desc","Component"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAO,6BAAP;AAEA,IAAMC,QAAgB,GAAG,OAAzB;AAEA,IAAIC,UAA+B,GAAG;AAClCC,EAAAA,KAAK,EAAE;AAD2B,CAAtC;;IAgBqBC,Q;;;;;AAEjB,oBAAYC,KAAZ,EAAwB;AAAA;;AAAA;;AACpB,kFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,OAAO,EAAE;AAFA,KAAb;AAFoB;AAMvB;;;;8BAES;AAAA;;AACNR,MAAAA,KAAK,CACAS,GADL,CACS,oCADT,EAEKC,IAFL,CAEU,UAAAC,GAAG,EAAI;AACT,QAAA,MAAI,CAACC,QAAL,CAAc;AAAEL,UAAAA,QAAQ,EAAEI,GAAG,CAACE,IAAhB;AAAsBL,UAAAA,OAAO,EAAE;AAA/B,SAAd;AACH,OAJL,EAIOM,KAJP,CAIa,UAAAC,KAAK,EAAI;AACd,QAAA,MAAI,CAACH,QAAL,CAAc;AAAEL,UAAAA,QAAQ,EAAE,EAAZ;AAAgBC,UAAAA,OAAO,EAAEO,KAAK,CAACP;AAA/B,SAAd;AACH,OANL;AAOH;;;wCAEmB;AAChB,WAAKQ,OAAL;AACAC,MAAAA,WAAW,CAAC,KAAKD,OAAN,EAAef,QAAf,CAAX;AACH;;;6BAEQ;AACL,UAAMiB,OAAO,GAAG,CAAC;AACbC,QAAAA,MAAM,EAAE,MADK;AAEbC,QAAAA,QAAQ,EAAE,MAFG;AAGbC,QAAAA,IAAI,EAAE;AAHO,OAAD,EAIb;AACCF,QAAAA,MAAM,EAAE,MADT;AAECC,QAAAA,QAAQ,EAAE;AAFX,OAJa,EAOb;AACCD,QAAAA,MAAM,EAAE,IADT;AAECC,QAAAA,QAAQ,EAAE;AAFX,OAPa,EAWhB;AACID,QAAAA,MAAM,EAAE,OADZ;AAEIC,QAAAA,QAAQ,EAAE;AAFd,OAXgB,EAehB;AACID,QAAAA,MAAM,EAAE,OADZ;AAEIC,QAAAA,QAAQ,EAAE;AAFd,OAfgB,CAAhB;AAoBA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,oBAAC,UAAD;AACI,QAAA,IAAI,EAAE,KAAKd,KAAL,CAAWC,QADrB;AAEI,QAAA,OAAO,EAAEW,OAFb;AAGI,QAAA,eAAe,EAAE,CAHrB;AAII,QAAA,cAAc,EAAE,KAJpB;AAKI,QAAA,aAAa,EAAE,CACX;AACII,UAAAA,EAAE,EAAE,MADR;AAEIC,UAAAA,IAAI,EAAE;AAFV,SADW,CALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAiBH;;;;EA/DiCzB,KAAK,CAAC0B,S;;SAAvBpB,Q","sourcesContent":["import * as React from 'react';\r\nimport ReactTable from 'react-table';\r\nimport axios from 'axios';\r\nimport '../index.css';\r\nimport 'react-table/react-table.css'\r\n\r\nconst ONE_HOUR: number = 3600000;\r\n\r\nvar tableStyle: React.CSSProperties = {\r\n    width: \"100%\"\r\n};\r\n\r\ntype State = {\r\n    pensioni: [];\r\n    message: string;\r\n}\r\n\r\ntype PensioneType = {\r\n    data: Date;\r\n    ok: number;\r\n    errori: number;\r\n    totale: number;\r\n}\r\n\r\nexport default class Pensioni extends React.Component<void, State> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            pensioni: [],\r\n            message: \"\"\r\n        }\r\n    }\r\n\r\n    getData() {\r\n        axios\r\n            .get('http://localhost:8090/pensioni/all')\r\n            .then(res => {\r\n                this.setState({ pensioni: res.data, message: \"\" });\r\n            }).catch(error => {\r\n                this.setState({ pensioni: [], message: error.message });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        setInterval(this.getData, ONE_HOUR);\r\n    }\r\n\r\n    render() {\r\n        const columns = [{\r\n            Header: 'Data',\r\n            accessor: 'data',\r\n            show: false\r\n        }, {\r\n            Header: 'Data',\r\n            accessor: 'stringData'\r\n        }, {\r\n            Header: 'OK',\r\n            accessor: 'ok'\r\n        },\r\n        {\r\n            Header: 'Error',\r\n            accessor: 'errori'\r\n        },\r\n        {\r\n            Header: 'Total',\r\n            accessor: 'totale'\r\n        }];\r\n\r\n        return (\r\n            <div>\r\n                <h3>Pensioni</h3>\r\n                <ReactTable\r\n                    data={this.state.pensioni}\r\n                    columns={columns}\r\n                    defaultPageSize={5}\r\n                    showPagination={false}\r\n                    defaultSorted={[\r\n                        {\r\n                            id: \"data\",\r\n                            desc: true\r\n                        }\r\n                    ]}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}